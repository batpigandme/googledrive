% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/drive_auth.R
\name{drive_auth}
\alias{drive_auth}
\title{Authorize googledrive}
\usage{
drive_auth(email = NULL, path = NULL,
  cache = getOption("httr_oauth_cache"),
  use_oob = getOption("httr_oob_default"))
}
\arguments{
\item{email}{Optional; email address associated with the desired Google user.}

\item{path}{Optional; path to the downloaded JSON file for a service token.}

\item{cache}{A logical value or a string. \code{TRUE} means to cache
using the default cache file \code{.httr-oauth}, \code{FALSE} means
don't cache, and \code{NA} means to guess using some sensible heuristics.
A string mean use the specified path as the cache file.}

\item{use_oob}{if FALSE, use a local webserver for the OAuth dance.
Otherwise, provide a URL to the user and prompt for a validation
code. Defaults to the of the \code{"httr_oob_default"} default,
or \code{TRUE} if \code{httpuv} is not installed.}
}
\description{
Authorize googledrive to view and manage your Drive files. By default, you
are directed to a web browser, asked to sign in to your Google account,
and to grant googledrive (the tidyverse, actually) permission to operate on
your behalf with Google Drive. By default, these user credentials are cached
in a file named \code{.httr-oauth} in the current working directory, from where
they can be automatically refreshed, as necessary.
}
\details{
Most users, most of the time, do not need to call \code{drive_auth()} explicitly
-- it is triggered by the first action that requires authorization. Even when
called, the default arguments will often suffice. However, when necessary,
this function allows the user to explicitly
\itemize{
\item Declare which Google identity to use, via an email address. If there are
multiple cached tokens, this can clarify which one to use. It can also
force googledrive to switch from one identity to another. If there's no
cached token for the email, this triggers a return to the browser to choose
the identity and give consent.
\item Load a service account token.
\item Specify non-default behavior re: token caching and out-of-bound
authentication.
}

For even deeper control over auth, use \code{\link[=drive_auth_config]{drive_auth_config()}} to use your own
OAuth app or API key.
}
\examples{
\dontrun{
## load/refresh existing credentials, if available
## otherwise, go to browser for authentication and authorization
drive_auth()

## see user associated with current token
drive_user()

## force use of a token associated with a specific email
drive_auth(email = "jenny@example.com")
drive_user()

## use a service account token
drive_auth(path = "foofy-83ee9e7c9c48.json")
}
}
\seealso{
More detail is available from
\href{https://developers.google.com/identity/protocols/OAuth2InstalledApp}{Using OAuth 2.0 for Installed Applications}

Other auth functions: \code{\link{auth-config}},
  \code{\link{drive_auth_config}},
  \code{\link{drive_deauth}}
}
\concept{auth functions}
